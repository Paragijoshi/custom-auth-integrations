extends: base/notion/integrations.yaml
unique_id: notion
name: Notion
description: A modern project management tool designed for efficiency and performance.
logo: https://i.imgur.com/98qPYXd.png
categories: [project management, productivity]

auth_schemes:
  - scheme_name: notion_oauth
    auth_mode: OAUTH2
    # client_id, client_secret will be provided upon request.
    # Default parameters and fields are determined based on auth_mode
    authorization_url: "https://api.notion.com/v1/oauth/authorize"
    token_url: "https://api.notion.com/v1/oauth/token"
    default_scopes: []
    token_response_metadata: [access_token, token_type, scope, expires_in, refresh_token]
    token_request_auth_method: basic
    proxy:
      base_url: "{{base_url}}"

    authorization_params:
        response_type: code
        owner: user

    fields:
      - name: base_url
        displayName: Base URL
        description: "The base URL for notion API requests. For more information, visit https://developers.notion.app/docs/api"
        type: string
        default: https://api.notion.app

  - scheme_name: notion_api_key
    auth_mode: API_KEY
    proxy:
      base_url: "{{base_url}}"
      headers:
        Authorization: "Bearer {{api_key}}}"

    fields:
      - name: api_key
        expected_from_customer: true 
        displayName: API Key
        description: "Your notion API key for authentication. Obtain it from your notion settings."
        type: string
        required: false
      - name: base_url
        expected_from_customer: true 
        displayName: Base URL
        description: "The base URL for notion API requests. For more information, visit https://developers.notion.app/docs/api"
        type: string
        required: false
        default: https://api.notion.app
